\begin{code}

{-# OPTIONS --prop --rewriting #-}

open Agda.Primitive
open import Equality
open import Logic
open import Nat
open import TTSyntax

module TTStrictifiedSyntax where

-- We can define a more Strict Syntax where most of the equations are definitional

S : DepModel
S = record
  { Conâ€¢   = Î» _ â†’ ğŸ™
  ; Tyâ€¢    = Î» { {Î“} _ A â†’ Î£ (âˆ€{Î”} â†’ Sub Î” Î“ â†’ Ty Î”)
                              (Î» A[_]* â†’ (âˆ€{Î”}(Ïƒ : Sub Î” Î“) â†’ Lift (A[ Ïƒ ]* â‰¡ A [ Ïƒ ])))
               } 
  ; Subâ€¢   = Î» _ _ _ â†’ ğŸ™
  ; Tmâ€¢    = Î» { {Î“} _ (A[_]* , A[_]*=) t â†’ Î£ (âˆ€{Î”} â†’ (Ïƒ : Sub Î” Î“) â†’ Tm Î” (A[ Ïƒ ]*))
                                               (Î» tâŸ¦_âŸ§* â†’ (âˆ€{Î”}(Ïƒ : Sub Î” Î“) â†’ Lift (transpâŸ¨ Tm Î” âŸ© (unfold A[ Ïƒ ]*=) (tâŸ¦ Ïƒ âŸ§*) â‰¡ t âŸ¦ Ïƒ âŸ§)))
               }
               
  ; â—‹â€¢     = â˜…
  ; _â–·â€¢_   = Î» _ _ â†’ â˜…
  
  ; Uâ€¢     = (Î» _ â†’ U) , Î» _ â†’ âŸª sym U[] âŸ«
  ; Elâ€¢    = Î» { (aâŸ¦_âŸ§* , aâŸ¦_âŸ§*=) â†’
             (Î» Ïƒ â†’ El aâŸ¦ Ïƒ âŸ§*) ,
             Î» {Î”} Ïƒ â†’ âŸª (congâŸ¨ El âŸ© (sym (transptransp (sym U[]) {U[]}))) â– 
                         (congâŸ¨ (Î» x â†’ El (transpâŸ¨ Tm Î” âŸ© U[] x)) âŸ© (unfold aâŸ¦ Ïƒ âŸ§*=)) â– 
                         (sym El[]) âŸ«}
  ; _[_]â€¢  = Î» { {_}{_}{_}{_}{A} (A[_]* , A[_]*=) {Ïƒ} _ â†’
              (Î» {Î”'} Ïƒ' â†’ A[ Ïƒ ]* [ Ïƒ' ]) ,
              (Î» {Î”'} Ïƒ' â†’ âŸª congâŸ¨ _[ Ïƒ' ] âŸ© (unfold A[ Ïƒ ]*=) âŸ«)}
  ; Î â€¢     = Î» {Î“}{_}{A}(A[_]* , A[_]*=){B}(B[_]* , B[_]*=) â†’
             (Î» {Î”} Ïƒ â†’ Î  (A[ Ïƒ ]*) (B[ transpâŸ¨ (Î» C â†’ Sub (Î” â–· C) (Î“ â–· A)) âŸ© (sym (unfold A[ Ïƒ ]*=)) (Ïƒ âº) ]*)) ,
             (Î» {Î”} Ïƒ â†’ âŸª (congâŸ¨ Î  A[ Ïƒ ]* âŸ© (unfold B[ transpâŸ¨ (Î» C â†’ Sub (Î” â–· C) (Î“ â–· A)) âŸ© (sym (unfold A[ Ïƒ ]*=)) (Ïƒ âº) ]*=)) â– 
                          (congâŸ¨ (Î» x â†’ Î  (prâ‚ x) (B [ (prâ‚‚ x) ])) âŸ© (unfold A[ Ïƒ ]*= ,= refl)) â– 
                          (congâŸ¨ (Î» x â†’ Î  (A [ Ïƒ ]) (B [ x ])) âŸ© (transptransp (sym (unfold A[ Ïƒ ]*=)) {unfold A[ Ïƒ ]*=})) â– 
                          (sym Î []) âŸ«)
  
  ; Ïâ€¢     = â˜…
  ; âŸ¨_âŸ©â€¢    = Î» _ â†’ â˜…
  ; _âºâ€¢    = Î» _ â†’ â˜…
  
  ; _âŸ¦_âŸ§â€¢  = Î» { {Î“}{Î”}{_}{_}{A}{A[_]* , A[_]*=}{t}(tâŸ¦_âŸ§* , tâŸ¦_âŸ§*=){Ïƒ}_ â†’
             (tâŸ¦ Ïƒ âŸ§* âŸ¦_âŸ§) ,
             Î» {Î”'} Ïƒ' â†’ âŸª (transpcong (Tm Î”') (_[ Ïƒ' ]) (unfold A[ Ïƒ ]*=) {tâŸ¦ Ïƒ âŸ§* âŸ¦ Ïƒ' âŸ§}) â– 
                           (sym (transp$ (Î» _ â†’ _âŸ¦ Ïƒ' âŸ§) (unfold A[ Ïƒ ]*=))) â– 
                           (congâŸ¨ _âŸ¦ Ïƒ' âŸ§ âŸ© (unfold tâŸ¦ Ïƒ âŸ§*=)) âŸ«}
  ; qâ€¢     = Î» { {_}{_}{A}{A[_]* , A[_]*=} â†’
              (Î» {Î”} Ïƒ â†’ transpâŸ¨ Tm Î” âŸ© (sym (congâŸ¨ _[ Ïƒ ] âŸ© (unfold A[ Ï ]*=))) (q âŸ¦ Ïƒ âŸ§)) ,
              (Î» {Î”} Ïƒ â†’ âŸª transptransp {_}{_}{_}{Tm Î”} (sym (congâŸ¨ _[ Ïƒ ] âŸ© (unfold A[ Ï ]*=)))  âŸ«)}
  ; lamâ€¢   = Î» { {Î“}{_}{A}{A[_]* , A[_]*=}{_}{_}{t}(tâŸ¦_âŸ§* , tâŸ¦_âŸ§*=) â†’
              (Î» {Î”} Ïƒ â†’ lam (tâŸ¦ transpâŸ¨ (Î» C â†’ Sub (Î” â–· C) (Î“ â–· A)) âŸ© (sym (unfold A[ Ïƒ ]*=)) (Ïƒ âº) âŸ§*)) ,
              (Î» {Î”} Ïƒ â†’ âŸª {!!} âŸ«) }
  -- app should be replaced with _$_
  ; appâ€¢   = Î» { {Î“}{Î“â€¢}{A}{Aâ€¢}{B}{B[_]* , B[_]*=}{u}(uâŸ¦_âŸ§* , uâŸ¦_âŸ§*=) â†’
              (Î» {Î”} Ïƒ â†’ transpâŸ¨ Tm Î” âŸ© (sym (unfold B[ Ïƒ ]*=)) ((app u) âŸ¦ Ïƒ âŸ§)) ,
              (Î» {Î”} Ïƒ â†’ âŸª transptransp {_}{_}{_}{Tm Î”} (sym (unfold B[ Ïƒ ]*=)) âŸ«)}
             
  ; Î []â€¢   = Î» { {Î“}{Î”}{_}{_}{A}{A[_]* , A[_]*=}{B}{B[_]* , B[_]*=}{Ïƒ} â†’
             funexti (Î» Î”' â†’ funext Î» Ïƒ' â†’
             let transpÏƒâº =  transpâŸ¨ (Î» C â†’ Sub (Î” â–· C) (Î“ â–· A)) âŸ© (sym (unfold A[ Ïƒ ]*=)) (Ïƒ âº) in
             let transpÏƒ'âº =  transpâŸ¨ (Î» C â†’ Sub (Î”' â–· C) (Î” â–· A [ Ïƒ ])) âŸ© (congâŸ¨ _[ Ïƒ' ] âŸ© (sym (unfold A[ Ïƒ ]*=))) (Ïƒ' âº) in
              (cong$ (cong$i (transpÏ€â‚ I.Î []) Î”') Ïƒ') â–  
              (Î [] {Î”}{Î”'}{_}{B[ transpÏƒâº ]*}{Ïƒ'}) â– 
              (congâŸ¨ (Î» C â†’ Î  (A[ Ïƒ ]* [ Ïƒ' ]) (C [ Ïƒ' âº ])) âŸ© (unfold B[ transpÏƒâº ]*=)) â– 
              (congâŸ¨ Î  (A[ Ïƒ ]* [ Ïƒ' ]) âŸ©
                ((transp$ {_}{_}{_}{Î» C â†’ Sub (Î” â–· C) (Î“ â–· A)} (Î» C Ïƒ'' â†’ B [ Ïƒ'' ] [ Ïƒ' âº ]) (sym (unfold A[ Ïƒ ]*=)) { Ïƒ âº }) â– 
                 (sym (transp$ (Î» C Ïƒ'' â†’ B [ Ïƒ âº ] [ Ïƒ'' ]) (sym (unfold A[ Ïƒ ]*=)) { Ïƒ' âº })) â– 
                 (congâŸ¨ B [ Ïƒ âº ] [_] âŸ© (sym (transpcong (Î» C â†’ Sub (Î”' â–· C) (Î” â–· A [ Ïƒ ])) (_[ Ïƒ' ]) (sym (unfold A[ Ïƒ ]*=))))) â– 
                 congâŸ¨ (Î» D â†’ D [ transpÏƒ'âº ]) âŸ© (sym (unfold B[ Ïƒ âº ]*=)))))
              ,= refl}
  ; Î²â€¢     = {!!}
  ; Î·â€¢     = {!!}
  ; U[]â€¢   = {!!}
  ; lam[]â€¢ = {!!}
  ; El[]â€¢  = {!!}
  ; qâŸ¨âŸ©â€¢    = {!!}
  ; q+â€¢    = {!!}
  ; ÏâŸ¨âŸ©â€¢    = {!!}
  ; Ï+â€¢    = {!!}
  } where open I
module S = DepModel S

I* : Model
I* = record
  { Con   = I.Con
  ; Ty    = I.Ty
  ; Sub   = I.Sub
  ; Tm    = I.Tm
  
  ; â—‹     = I.â—‹
  ; _â–·_   = I._â–·_
  
  ; U     = I.U
  ; El    = I.El
  ; _[_]  = Î» A â†’ prâ‚ (S.âŸ¦ A âŸ§â€¢T)
  ; Î      = I.Î 
  ; Ï     = I.Ï
  ; âŸ¨_âŸ©    = I.âŸ¨_âŸ©
  ; _âº    = {!!}
  ; _âŸ¦_âŸ§  = Î» t â†’ prâ‚ (S.âŸ¦ t âŸ§â€¢t)
  ; q     = {!!}
  ; lam   = {!!}
  ; app   = {!!}
  ; Î []   = refl
  ; Î²     = {!!}
  ; Î·     = {!!}
  ; U[]   = refl
  ; lam[] = {!!}
  ; El[]  = refl
  ; qâŸ¨âŸ©    = {!!}
  ; q+    = {!!}
  ; ÏâŸ¨âŸ©    = {!!}
  ; Ï+    = {!!}
  }

\end{code}
