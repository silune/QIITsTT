\begin{code}

{-# OPTIONS --prop --rewriting #-}

open Agda.Primitive
open import Equality
open import Logic
open import Nat
open import TTSyntax

module TTStrictifiedSyntax where

-- We can define a more Strict Syntax where most of the equations are definitional

S : DepModel
S = record
  { Conâ€¢   = Î» Î“ â†’
             Î£ (âˆ€{Î”} â†’ Sub Î” Î“ â†’ Set)
               (Î» Î“* â†’ (âˆ€{Î” Î© : Con}{Ïƒ : Sub Î” Î“}{Ï‰ : Sub Î© Î”} â†’ Î“* Ïƒ â†’ isRen Î© Î” Ï‰ â†’ Î“* (Ïƒ âˆ˜ Ï‰)))
                     
  ; Subâ€¢   = Î» { {Î”} (Î”* , _[_]Î”) {Î“} (Î“* , _[_]Î“) Ïƒ â†’
             Î£ (âˆ€{Î˜}{Ï : Sub Î˜ Î”} â†’ Î”* Ï â†’ Î“* (Ïƒ âˆ˜ Ï))
               (Î» Ïƒ* â†’ (âˆ€{Î˜ Î©}{Ï : Sub Î˜ Î”}{Ï' : Î”* Ï}{Ï‰ : Sub Î© Î˜}{Ï‰R : isRen Î© Î˜ Ï‰} â†’
                        Lift (transpâŸ¨ Î“* âŸ© (sym ass) ((Ïƒ* Ï') [ Ï‰R ]Î“) â‰¡ Ïƒ* (Ï' [ Ï‰R ]Î”))))}
                        
  ; Tyâ€¢    = Î» _ â†’ ğŸ™
  ; Tmâ€¢    = Î» { {Î“} (Î“* , _[_]Î“) {A} _ t â†’
             Î£ (âˆ€{Î”}{Ïƒ : Sub Î” Î“} â†’ Î“* Ïƒ â†’ Tm Î” A)
               (Î» t* â†’(âˆ€{Î”}{Ïƒ : Sub Î” Î“} â†’ (Ïƒ' : Î“* Ïƒ) â†’ Lift (t* Ïƒ' â‰¡ t [ Ïƒ ])))  }
                                
  ; â—‹â€¢     = (Î» Ïƒ â†’ ğŸ™) ,
             (Î» _ _ â†’ â˜…)
  ; _â–·â€¢_   = Î» { {Î“} (Î“* , _[_]Î“) {A} _ â†’
             (Î» {Î”} Ïƒ â†’ Î“* (p âˆ˜ Ïƒ) Ã— (Î£ (Tm Î” A) (Î» t' â†’ Lift (t' â‰¡ q [ Ïƒ ])))) ,
             (Î» { {Î”}{Î©}{Ïƒ}{Ï‰} (Ïƒ' , t' , âŸª t'e âŸ«) Ï‰R â†’
                transpâŸ¨ Î“* âŸ© (sym ass) (Ïƒ' [ Ï‰R ]Î“) , (t' [ Ï‰ ]) , âŸª (congâŸ¨ _[ Ï‰ ] âŸ© (t'e)) â–  [][] âŸ«})} -- ? still a sub

  ; _âˆ˜â€¢_   =  Î» { {Î“}{Î“* , _[_]Î“}{Î”}{Î”* , _[_]Î”}{Î˜}{Î˜* , _[_]Î˜}{Ïƒ} (Ïƒ* , Ïƒe) {Ï} (Ï* , Ïe) â†’
             (Î» x â†’ transpâŸ¨ Î“* âŸ© ass (Ïƒ* (Ï* x))) ,
             {!!} }
  ; idâ€¢    = Î» { {Î“}{Î“* , _[_]Î“} â†’
             (Î» x â†’ transpâŸ¨ Î“* âŸ© (sym idl) x) ,
             {!!}}
  ; Îµâ€¢     = Î» { {Î“}{Î“* , _[_]Î“} â†’
             (Î» _ â†’ â˜…) ,
             {!!} }
  ; _â€£â€¢_   = Î» { {Î“}{Î“* , _[_]Î“}{Î”}{Î”* , _[_]Î”}{A}{_}{Ïƒ} (Ïƒ* , _) {t} (t* , _) â†’
             (Î» {Î˜}{Ï} x â†’ transpâŸ¨ Î“* âŸ© ((congâŸ¨ _âˆ˜ Ï âŸ© (sym â–·Î²)) â–  (sym ass)) (Ïƒ* x) , t* x , {!!}) ,
             {!!}}
  ; pâ€¢     = Î» { {Î“}{Î“* , _[_]Î“}{A}{_} â†’
             Ï€â‚ ,
             {!!}}
  
  ; Î¹â€¢     = â˜…
  ; _â‡’â€¢_   = Î» _ _ â†’ â˜…

  ; _[_]â€¢  = Î» { {Î“}{Î“* , _[_]Î“}{Î”}{Î”* , _[_]Î”}{A}{_}{t} (t* , _) {Ïƒ} (Ïƒ* , _) â†’
               (Î» x â†’ (t* (Ïƒ* x)) ) ,
               {!!}}
  ; qâ€¢     = Î» { {Î“}{Î“* , _[_]Î“}{A}{_} â†’
               (Î» x â†’ Ï€â‚ (Ï€â‚‚ x)) ,
               {!!}}
  ; lamâ€¢   = Î» { {Î“}{Î“* , _[_]Î“}{A}{_}{B}{_}{t} (t* , _) â†’
               (Î» {_}{Ïƒ} Ïƒ* â†’ lam (t* {_}{Ïƒ âˆ˜ p â€£ q} (transpâŸ¨ Î“* âŸ© (sym â–·Î²) (Ïƒ* [ pRen ]Î“) , q , âŸª sym q[] âŸ«))) ,
               {!!}}
  ; _$â€¢_   = Î» { {Î“}{Î“* , _[_]Î“}{A}{_}{B}{_}{t} (t* , _) {u} (u* , _) â†’
               (Î» Ïƒ* â†’ (t* Ïƒ*) $ (u* Ïƒ*)) ,
               {!!}}
  
  ; Î²â€¢     =  Î» { {Î“}{_}{A}{_}{B}{_}{t}{t[_]* , t[_]*=}{u}{u[_]* , u[_]*=} â†’
                {!!}}
  ; Î·â€¢     = Î» { {Î“}{_}{A}{_}{B}{_}{t}{t[_]* , t[_]*=} â†’
                {!!}}
  ; [][]â€¢  = Î» { {Î“}{_}{Î”}{_}{Î˜}{_}{A}{_}{t}{t[_]* , t[_]*=}{Ïƒ}{_}{Ï}{_} â†’
                {!!}}
  ; q[]â€¢   = Î» { {Î“}{_}{Î”}{_}{A}{_}{t}{t[_]* , t[_]*=}{Ïƒ}{_} â†’
                {!!}}
  ; lam[]â€¢ = Î» { {Î“}{_}{Î”}{_}{A}{_}{B}{_}{t}{t[_]* , t[_]*=}{Ïƒ}{_} â†’
                {!!}}
  ; $[]â€¢   = Î» { {Î“}{_}{Î”}{_}{A}{_}{B}{_}{t}{t[_]* , t[_]*=}{u}{u[_]* , u[_]*=}{Ïƒ}{_} â†’
                {!!}}
  ; t[id]â€¢ = Î» { {Î“}{_}{A}{_}{t}{t[_]* , t[_]*=} â†’
                {!!}}
  ; assâ€¢   = {!!}
  ; idlâ€¢   = {!!}
  ; idrâ€¢   = {!!}
  ; â—‹Î·â€¢    = {!!}
  ; â–·Î²â€¢    = {!!} 
  ; â–·Î·â€¢    = {!!}
  } where open I
module S = DepModel S

lemmaId : âˆ€{Î“}{A} â†’ I.id {Î“ I.â–· A} â‰¡ (I.id I.âˆ˜ I.p I.â€£ I.q)
lemmaId = (sym I.â–·Î·) â–  (congâŸ¨ I.p I.âˆ˜ I.id I.â€£_ âŸ© I.t[id]) â–  congâŸ¨ I._â€£ I.q âŸ© (I.idr â–  (sym I.idl))

unquoteId : âˆ€{Î“ : I.Con} â†’ Ï€â‚ S.âŸ¦ Î“ âŸ§â€¢C I.id
unquoteId {I.â—‹} = â˜…
unquoteId {Î“ I.â–· A} = transpâŸ¨ Ï€â‚ S.âŸ¦ Î“ âŸ§â€¢C âŸ© (I.idl â–  (sym I.idr)) ((Ï€â‚‚ S.âŸ¦ Î“ âŸ§â€¢C (unquoteId {Î“}) pRen)) ,
                         I.q ,
                         âŸª sym I.t[id] âŸ«

I* : Model
I* = record
   { Con   = I.Con
   ; Ty    = I.Ty
   ; Sub   = I.Sub
   ; Tm    = I.Tm
   ; â—‹     = I.â—‹
   ; _â–·_   = I._â–·_
   ; Î¹     = I.Î¹
   ; _â‡’_   = I._â‡’_
   ; _âˆ˜_   = I._âˆ˜_
   ; id    = I.id
   ; Îµ     = I.Îµ
   ; _â€£_   = I._â€£_
   ; p     = I.p
   ; _[_]  = Î» {Î“}{Î”}{A} t Ïƒ â†’ Ï€â‚ S.âŸ¦ t âŸ§â€¢t (Ï€â‚ S.âŸ¦ Ïƒ âŸ§â€¢S (unquoteId {Î”})) 
   ; q     = I.q
   ; lam   = I.lam
   ; _$_   = I._$_
   ; Î²     = {!!}
   ; Î·     = {!!}
   ; [][]  = {!!}
   ; q[]   = {!refl!}
   ; lam[] = {!!}
   ; $[]   = refl
   ; t[id] = {!refl!} 
   ; ass   = I.ass
   ; idl   = I.idl
   ; idr   = I.idr
   ; â—‹Î·    = I.â—‹Î·
   ; â–·Î²    = I.â–·Î²
   ; â–·Î·    = {!!}
   }
module I* = Model I*

\end{code}


-- Then we need to show this is a syntax :

-- We already have that (I*.âŸ¦_âŸ§C , I*.âŸ¦_âŸ§S , I*.âŸ¦_âŸ§T , I*.âŸ¦_âŸ§t) are morphism from I to I*
-- Identity is a function from I* to I, we need to show it is a morphism, only terms are differents so :

[]*  : âˆ€{Î“ Î” : I*.Con}{A : I*.Ty}{t : I*.Tm Î“ A}{Ïƒ : I*.Sub Î” Î“} â†’
       t I*.[ Ïƒ ] â‰¡ t I.[ Ïƒ ]
[]* {Î“}{Î”}{A}{t}{Ïƒ} = unfold (Ï€â‚‚ S.âŸ¦ t âŸ§â€¢t Ïƒ)
q*   : âˆ€{Î“}{A} â†’ (I*.q {Î“}{A})  â‰¡ I.q
q*   = refl
lam* : âˆ€{Î“ : I*.Con}{A B : I*.Ty}{t : I*.Tm (Î“ I*.â–· A) B} â†’
       (I*.lam t) â‰¡ (I.lam t)
lam* = refl
$*   : âˆ€{Î“ : I*.Con}{A B : I*.Ty}{u : I*.Tm Î“ (A I*.â‡’ B)}{v : I*.Tm Î“ A} â†’
       u I*.$ v â‰¡ u I.$ v
$*   = refl

record DepModelS {lc}{ls}{lty}{ltm} : Set (lsuc (lc âŠ” ls âŠ” lty âŠ” ltm)) where

  infixr 6 _[_]â€¢
  infixr 7 _$â€¢_
  infixr 5 _â–·â€¢_
  infixr 6 _âˆ˜â€¢_
  infixr 5 _â€£â€¢_

  open I*

  field
  
    Conâ€¢   : Con â†’ Set lc
    Tyâ€¢    : Ty â†’ Set lty
    Subâ€¢   : âˆ€{Î”} â†’ Conâ€¢ Î” â†’ âˆ€{Î“} â†’ Conâ€¢ Î“ â†’ Sub Î” Î“ â†’ Set ls
    Tmâ€¢    : âˆ€{Î“} â†’ (Î“â€¢ : Conâ€¢ Î“) â†’ âˆ€{A} â†’ Tyâ€¢ A â†’ Tm Î“ A â†’ Set ltm
    
    â—‹â€¢     : Conâ€¢ â—‹
    _â–·â€¢_   : âˆ€{Î“} â†’ (Î“â€¢ : Conâ€¢ Î“) â†’ âˆ€{A} â†’ Tyâ€¢ A â†’ Conâ€¢ (Î“ â–· A) 

    _âˆ˜â€¢_   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{Î˜}{Î˜â€¢ : Conâ€¢ Î˜}{Ïƒ} â†’ Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ â†’ âˆ€{Ï} â†’ Subâ€¢ Î˜â€¢ Î”â€¢ Ï â†’ Subâ€¢ Î˜â€¢ Î“â€¢ (Ïƒ âˆ˜ Ï)
    idâ€¢    : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“} â†’ Subâ€¢ Î“â€¢ Î“â€¢ id
    Îµâ€¢     : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“} â†’ Subâ€¢ Î“â€¢ â—‹â€¢ Îµ
    _â€£â€¢_   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{Ïƒ} â†’ Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ â†’ âˆ€{t} â†’ Tmâ€¢ Î”â€¢ Aâ€¢ t â†’ Subâ€¢ Î”â€¢ (Î“â€¢ â–·â€¢ Aâ€¢) (Ïƒ â€£ t)
    pâ€¢     : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A} â†’ Subâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Î“â€¢ p

    Î¹â€¢     : Tyâ€¢ I.Î¹
    _â‡’â€¢_   : âˆ€{A}{B} â†’ Tyâ€¢ A â†’ Tyâ€¢ B â†’ Tyâ€¢ (A I.â‡’ B)

    _[_]â€¢  : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{u} â†’ Tmâ€¢ Î“â€¢ Aâ€¢ u â†’ âˆ€{Ïƒ} â†’ (Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ) â†’
             Tmâ€¢ Î”â€¢ Aâ€¢ (u [ Ïƒ ])
    qâ€¢     : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A} â†’
             Tmâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Aâ€¢ q
    lamâ€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t} â†’ Tmâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Bâ€¢ t â†’
             Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) (lam t)
    _$â€¢_   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t} â†’ Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) t â†’ âˆ€{u} â†’ Tmâ€¢ Î“â€¢ Aâ€¢ u â†’
             Tmâ€¢ Î“â€¢ Bâ€¢ (t $ u)

    Î²â€¢     : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t}{tâ€¢ : Tmâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Bâ€¢ t}{u}{uâ€¢ : Tmâ€¢ Î“â€¢ Aâ€¢ u} â†’
             transpâŸ¨ Tmâ€¢ Î“â€¢ Bâ€¢ âŸ© Î² ((lamâ€¢ tâ€¢) $â€¢ uâ€¢) â‰¡ tâ€¢ [ idâ€¢ â€£â€¢ uâ€¢ ]â€¢
    Î·â€¢     : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t}{tâ€¢ : Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) t} â†’
             transpâŸ¨ Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) âŸ© Î· (lamâ€¢ ((tâ€¢ [ pâ€¢ ]â€¢) $â€¢ qâ€¢)) â‰¡ tâ€¢
    [][]â€¢  : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{Î˜}{Î˜â€¢ : Conâ€¢ Î˜}{A}{Aâ€¢ : Tyâ€¢ A}{t}{tâ€¢ : Tmâ€¢ Î“â€¢ Aâ€¢ t}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ}{Ï}{Ïâ€¢ : Subâ€¢ Î˜â€¢ Î”â€¢ Ï} â†’
             transpâŸ¨ Tmâ€¢ Î˜â€¢ Aâ€¢ âŸ© ([][] {Î“}{Î”}{Î˜}{A}{t}{Ïƒ}{Ï}) (tâ€¢ [ Ïƒâ€¢ ]â€¢ [ Ïâ€¢ ]â€¢) â‰¡ tâ€¢ [ Ïƒâ€¢ âˆ˜â€¢ Ïâ€¢ ]â€¢
    q[]â€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{t}{tâ€¢ : Tmâ€¢ Î”â€¢ Aâ€¢ t}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ} â†’
             transpâŸ¨ Tmâ€¢ Î”â€¢ Aâ€¢ âŸ© q[] (qâ€¢ [ Ïƒâ€¢ â€£â€¢ tâ€¢ ]â€¢) â‰¡ tâ€¢
    lam[]â€¢ : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t}{tâ€¢ : Tmâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Bâ€¢ t}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ} â†’
             (lamâ€¢ tâ€¢) [ Ïƒâ€¢ ]â€¢ â‰¡ lamâ€¢ (tâ€¢ [ Ïƒâ€¢ âˆ˜â€¢ pâ€¢ â€£â€¢ qâ€¢ ]â€¢)
    $[]â€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{B}{Bâ€¢ : Tyâ€¢ B}{t}{tâ€¢ : Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) t}
             {u}{uâ€¢ : Tmâ€¢ Î“â€¢ Aâ€¢ u}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ} â†’
             (tâ€¢ $â€¢ uâ€¢) [ Ïƒâ€¢ ]â€¢ â‰¡ (tâ€¢ [ Ïƒâ€¢ ]â€¢) $â€¢ (uâ€¢ [ Ïƒâ€¢ ]â€¢)
    t[id]â€¢ : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{A}{Aâ€¢ : Tyâ€¢ A}{t}{tâ€¢ : Tmâ€¢ Î“â€¢ Aâ€¢ t} â†’
             transpâŸ¨ Tmâ€¢ Î“â€¢ Aâ€¢ âŸ© t[id] (tâ€¢ [ idâ€¢ ]â€¢) â‰¡ tâ€¢
    assâ€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{Î˜}{Î˜â€¢ : Conâ€¢ Î˜}{Î©}{Î©â€¢ : Conâ€¢ Î©}
             {Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ}{Ï}{Ïâ€¢ : Subâ€¢ Î˜â€¢ Î”â€¢ Ï}{Î³}{Î³â€¢ : Subâ€¢ Î©â€¢ Î˜â€¢ Î³} â†’
             transpâŸ¨ Subâ€¢ Î©â€¢ Î“â€¢ âŸ© ass (Ïƒâ€¢ âˆ˜â€¢ (Ïâ€¢ âˆ˜â€¢ Î³â€¢)) â‰¡ (Ïƒâ€¢ âˆ˜â€¢ Ïâ€¢) âˆ˜â€¢ Î³â€¢
    idlâ€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ} â†’
             transpâŸ¨ Subâ€¢ Î”â€¢ Î“â€¢ âŸ© idl (idâ€¢ âˆ˜â€¢ Ïƒâ€¢) â‰¡ Ïƒâ€¢
    idrâ€¢   : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ} â†’
             transpâŸ¨ Subâ€¢ Î”â€¢ Î“â€¢ âŸ© idr (Ïƒâ€¢ âˆ˜â€¢ idâ€¢) â‰¡ Ïƒâ€¢
    â—‹Î·â€¢    : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î“â€¢ â—‹â€¢ Ïƒ} â†’
             transpâŸ¨ Subâ€¢ Î“â€¢ â—‹â€¢ âŸ© â—‹Î· Ïƒâ€¢ â‰¡ Îµâ€¢
    â–·Î²â€¢    : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ Î“â€¢ Ïƒ}{t}{tâ€¢ : Tmâ€¢ Î”â€¢ Aâ€¢ t} â†’
             transpâŸ¨ Subâ€¢ Î”â€¢ Î“â€¢ âŸ© â–·Î² (pâ€¢ âˆ˜â€¢ (Ïƒâ€¢ â€£â€¢ tâ€¢)) â‰¡ Ïƒâ€¢
    â–·Î·â€¢    : âˆ€{Î“}{Î“â€¢ : Conâ€¢ Î“}{Î”}{Î”â€¢ : Conâ€¢ Î”}{A}{Aâ€¢ : Tyâ€¢ A}{Ïƒ}{Ïƒâ€¢ : Subâ€¢ Î”â€¢ (Î“â€¢ â–·â€¢ Aâ€¢) Ïƒ} â†’
             transpâŸ¨ Subâ€¢ Î”â€¢ (Î“â€¢ â–·â€¢ Aâ€¢) âŸ© â–·Î· (pâ€¢ âˆ˜â€¢ Ïƒâ€¢ â€£â€¢ qâ€¢ [ Ïƒâ€¢ ]â€¢) â‰¡ Ïƒâ€¢
 
  DMeq : DepModel
  DMeq = record
       { Conâ€¢ = Conâ€¢ ; â—‹â€¢ = â—‹â€¢ ; _â–·â€¢_ = _â–·â€¢_
       ; Subâ€¢ = Subâ€¢ ; _âˆ˜â€¢_ = _âˆ˜â€¢_ ; idâ€¢ = idâ€¢ ; Îµâ€¢ = Îµâ€¢ ; _â€£â€¢_ = _â€£â€¢_ ; pâ€¢ = pâ€¢
       ; Tyâ€¢ = Tyâ€¢ ; Î¹â€¢ = Î¹â€¢ ; _â‡’â€¢_ = _â‡’â€¢_
       ; Tmâ€¢ = Tmâ€¢
       ; _[_]â€¢ = Î» {Î“}{Î“â€¢}{Î”}{Î”â€¢}{A}{Aâ€¢}{t} tâ€¢ {Ïƒ} Ïƒâ€¢ â†’
                 transpâŸ¨ Tmâ€¢ Î”â€¢ Aâ€¢ âŸ© ([]*) (tâ€¢ [ Ïƒâ€¢ ]â€¢)
       ; qâ€¢ = qâ€¢ ; lamâ€¢ = lamâ€¢ ; _$â€¢_ = _$â€¢_
       ; Î²â€¢     = Î» {Î“}{Î“â€¢}{A}{Aâ€¢}{B}{Bâ€¢}{t}{tâ€¢}{u}{uâ€¢} â†’
                  (sym (transptransp (Tmâ€¢ Î“â€¢ Bâ€¢) Î² []*)) â–  (congâŸ¨ transpâŸ¨ Tmâ€¢ Î“â€¢ Bâ€¢ âŸ© []* âŸ© Î²â€¢)
       ; Î·â€¢     = Î» {Î“}{Î“â€¢}{A}{Aâ€¢}{B}{Bâ€¢}{t}{tâ€¢} â†’
                  (congâŸ¨ transpâŸ¨ Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢) âŸ© I.Î· âŸ©
                     (transp$ (Î» x (xâ€¢ : Tmâ€¢ (Î“â€¢ â–·â€¢ Aâ€¢) (Aâ€¢ â‡’â€¢ Bâ€¢) x) â†’ lamâ€¢ (xâ€¢ $â€¢ qâ€¢)) []*)) â– 
                  (transptransp (Tmâ€¢ Î“â€¢ (Aâ€¢ â‡’â€¢ Bâ€¢)) (congâŸ¨ (Î» x â†’ lam (x $ q)) âŸ© []*) I.Î·) â– 
                  (Î·â€¢)
       ; [][]â€¢  = Î» {Î“}{Î“â€¢}{Î”}{Î”â€¢}{Î˜}{Î˜â€¢}{A}{Aâ€¢}{t}{tâ€¢}{Ïƒ}{Ïƒâ€¢}{Ï}{Ïâ€¢} â†’
                  (congâŸ¨ (Î» x â†’ transpâŸ¨ Tmâ€¢ Î˜â€¢ Aâ€¢ âŸ© I.[][] (transpâŸ¨ Tmâ€¢ Î˜â€¢ Aâ€¢ âŸ© []* x)) âŸ©
                      (transp$ (Î» x (xâ€¢ : Tmâ€¢ Î”â€¢ Aâ€¢ x) â†’ xâ€¢ [ Ïâ€¢ ]â€¢) []*)) â– 
                  (transptransp (Tmâ€¢ Î˜â€¢ Aâ€¢) []* I.[][]) â– 
                  (transptransp (Tmâ€¢ Î˜â€¢ Aâ€¢) (congâŸ¨ (Î» x â†’ x [ Ï ]) âŸ© ([]* {Î“}{Î”}{A}{t}{Ïƒ})) ([]* â–  I.[][])) â– 
                  (sym (transptransp (Tmâ€¢ Î˜â€¢ Aâ€¢) ([][] {Î“}{Î”}{Î˜}{A}{t}{Ïƒ}{Ï}) []*)) â– 
                  (congâŸ¨ transpâŸ¨ Tmâ€¢ Î˜â€¢ Aâ€¢ âŸ© []* âŸ© [][]â€¢)
       ; q[]â€¢   = q[]â€¢
       ; lam[]â€¢ = Î» {Î“}{Î“â€¢}{Î”}{Î”â€¢}{A}{Aâ€¢}{B}{Bâ€¢}{t}{tâ€¢}{Ïƒ}{Ïƒâ€¢} â†’
                  {!!}
       ; $[]â€¢   = {!!}
       ; t[id]â€¢ = {!!}
       ; assâ€¢ = assâ€¢ ; idlâ€¢ = idlâ€¢ ; idrâ€¢ = idrâ€¢ ; â—‹Î·â€¢ = â—‹Î·â€¢ ; â–·Î²â€¢ = â–·Î²â€¢ ; â–·Î·â€¢ = â–·Î·â€¢
       }
